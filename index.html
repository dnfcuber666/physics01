<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>2D 氣體分子運動模擬</title>
<style>
body { text-align: center; background: #f5f5f5; font-family: sans-serif; }
canvas { background: #fff; display: block; margin: 10px auto; border: 1px solid #ccc; }
.controls { margin: 10px; }
input, button { margin: 5px; }
.stats { margin: 10px; font-size: 18px; }
</style>
</head>
<body>
<h1>2D 氣體分子運動模擬</h1>
<div class="controls">
<label>初始溫度: <input type="range" id="tempInput" min="1000" max="100000" value="4000" step="100"></label>
<span id="tempValue">4000</span>
<button id="startBtn">開始</button>
<button id="resetBtn">重設</button>
</div>
<div class="stats">
平均速度: <span id="avgSpeed">0</span> |
溫度: <span id="temperature">0</span> |
壓力: <span id="pressure">0</span>
</div>
<canvas id="simCanvas" width="600" height="400"></canvas>


<script>
const canvas = document.getElementById("simCanvas");
const ctx = canvas.getContext("2d");
let particles = [];
let numParticles = 50;
let radius = 5;
let initialTemp = 4000;
let running = false;


const tempInput = document.getElementById("tempInput");
const tempValue = document.getElementById("tempValue");
const avgSpeedEl = document.getElementById("avgSpeed");
const temperatureEl = document.getElementById("temperature");
const pressureEl = document.getElementById("pressure");


tempInput.addEventListener("input", () => {
tempValue.textContent = tempInput.value;
});


function initParticles() {
particles = [];
let speedScale = Math.sqrt(initialTemp) / 100;
for (let i = 0; i < numParticles; i++) {
let angle = Math.random() * 2 * Math.PI;
let speed = speedScale * (0.5 + Math.random());
particles.push({
x: Math.random() * (canvas.width - 2 * radius) + radius,
y: Math.random() * (canvas.height - 2 * radius) + radius,
vx: speed * Math.cos(angle),
vy: speed * Math.sin(angle),
radius: radius
});
}
}


function computeStats() {
let totalSpeed = 0;
let totalSpeedSq = 0;
for (let p of particles) {
let v = Math.sqrt(p.vx*p.vx + p.vy*p.vy);
totalSpeed += v;
totalSpeedSq += v*v;
</html>
